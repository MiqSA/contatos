{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\grego\\\\Documents\\\\contatos\\\\frontend\\\\src\\\\TelefoneUpdate.js\";\nimport React, { Component } from 'react';\nimport TelefonesService from './TelefonesService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst telefonesService = new TelefonesService();\n\nclass TelefoneUpdate extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n\n    if (params && params.pk) {\n      telefonesService.getTelefone(params.pk).then(c => {\n        this.refs.numero.value = c.numero;\n        this.refs.pessoa.value = c.pessoa;\n      });\n    }\n  }\n\n  handleUpdate(pk) {\n    telefonesService.updateTelefone({\n      \"pk\": pk,\n      \"numero\": this.refs.numero.value,\n      \"pessoa\": this.refs.pessoa.value\n    }).then(result => {\n      alert(\"Número Atualizado com Sucesso!\");\n      window.location.href = \"/telefone/pessoa/\" + this.refs.pessoa.value;\n    }).catch(() => {\n      telefonesService.getTelefonesByURL('/contatoapi/telefone/?numero=' + this.refs.numero.value).then(c => {\n        var numero = c.numero;\n\n        if (numero != '') {\n          alert('Não é possível inserir um numero já cadastrado!');\n        }\n      });\n    });\n  }\n\n  handleSubmit(event) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n\n    if (params && params.pk) {\n      this.handleUpdate(params.pk);\n    }\n\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"N\\xFAmero:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          ref: \"numero\",\n          required: \"required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"hidden\",\n          ref: \"pessoa\",\n          name: \"pessoa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"btn btn-primary\",\n          href: \"javascript:history.back()\",\n          children: \" Retornar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"btn btn-primary\",\n          type: \"submit\",\n          value: \"Salvar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default TelefoneUpdate;","map":{"version":3,"sources":["C:/Users/grego/Documents/contatos/frontend/src/TelefoneUpdate.js"],"names":["React","Component","TelefonesService","telefonesService","TelefoneUpdate","constructor","props","handleSubmit","bind","componentDidMount","match","params","pk","getTelefone","then","c","refs","numero","value","pessoa","handleUpdate","updateTelefone","result","alert","window","location","href","catch","getTelefonesByURL","event","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TelefonesService from './TelefonesService';\n\nconst telefonesService = new TelefonesService();\n\nclass TelefoneUpdate extends Component {\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n      }\n\n      componentDidMount(){\n        const { match: { params } } = this.props;\n        if(params && params.pk)\n        {\n          telefonesService.getTelefone(params.pk).then((c)=>{\n            this.refs.numero.value = c.numero;\n            this.refs.pessoa.value = c.pessoa;\n          })\n        }\n      }\n      \n      handleUpdate(pk){\n        telefonesService.updateTelefone(\n          {\n            \"pk\": pk,\n            \"numero\": this.refs.numero.value,\n            \"pessoa\": this.refs.pessoa.value,\n        }\n        ).then((result)=>{\n          alert(\"Número Atualizado com Sucesso!\");\n          window.location.href = \"/telefone/pessoa/\"+this.refs.pessoa.value;\n        }).catch(()=>{\n          telefonesService.getTelefonesByURL('/contatoapi/telefone/?numero='+this.refs.numero.value).then((c)=>{\n            var numero = c.numero;\n            if(numero  != ''){\n              alert('Não é possível inserir um numero já cadastrado!');\n            }\n          })\n        });\n      }\n      handleSubmit(event) {\n        const { match: { params } } = this.props;\n        \n        if(params && params.pk){\n          this.handleUpdate(params.pk);\n        }\n        \n        event.preventDefault();\n      }\n\n      render() {\n        return (\n          <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label>\n              Número:</label>\n              <input className=\"form-control\" type=\"text\" ref='numero' required='required'/>\n              <input type=\"hidden\" ref='pessoa' name='pessoa' />\n              <br/>\n              <a className=\"btn btn-primary\"  href={\"javascript:history.back()\"}> Retornar</a>&nbsp;&nbsp;\n              <input className=\"btn btn-primary\" type=\"submit\" value=\"Salvar\" />\n            </div>\n          </form>\n        );\n      }\n}\n\nexport default TelefoneUpdate;"]},"metadata":{},"sourceType":"module"}